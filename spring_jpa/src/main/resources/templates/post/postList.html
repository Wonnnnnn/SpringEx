<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
  <style>
      .center{
          display: flex;
          justify-content: center;
      }
  </style>
</head>
<body>
<div class="container w-75 mt-5 mx-auto">
  <h2>Posts List</h2>
  <p><span th:text="${session.name}"></span> 님 안녕하세요!</p>
  <hr>
  <table class="table">
    <thead class="table-dark">
    <tr>
      <th scope="col">id</th>
      <th scope="col">글 제목</th>
      <th scope="col">좋아요</th>
      <th scope="col">수정</th>
      <th scope="col">삭제</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="post : ${posts}">
      <td name="postid" th:text="${post.postId}" ></td>
      <td>
        <a href="" th:href="@{/posts/postInfo/{postId}(postId=${post.postId})}"
           th:text="${post.title}">
          title
        </a>
      </td>
      <td th:text="${post.likes}">likes</td>
      <td>
        <a th:if="${post.userId == session.userId}" th:href="@{/posts/update/{postId}(postId=${post.postId})}">
          <span class="badge bg-secondary">edit</span>
        </a>
      </td>
      <td>
        <a th:if="${post.userId == session.userId}" th:href="@{/posts/delete/{postId}(postId=${post.postId})}">
          <span class="badge bg-secondary">&times;</span>
        </a>
      </td>
    </tr>
    </tbody>
  </table>
</div>
<div class="center">
  <button class="btn btn-primary mt-3"><a class="text-light text-decoration-none" th:href="@{/posts/add}">등록</a></button>
  <button class="btn btn-primary mt-3"><a class="text-light text-decoration-none" th:href="@{/logout}">로그아웃</a></button>
</div>
</body>
</html>